# Generated by: gromit policy

FROM gcr.io/distroless/base-debian12
ARG TARGETARCH

ARG PORTS

EXPOSE $PORTS

WORKDIR /opt/tyk-gateway/

COPY tyk.conf.example tyk.conf
COPY tyk .
COPY templates/*.json ./templates/
COPY templates/playground ./templates/playground
COPY apps ./apps
COPY middleware/*.js ./middleware/
COPY coprocess ./coprocess
COPY policies/*.json ./policies/

ENTRYPOINT ["/opt/tyk-gateway/tyk" ]
CMD [ "--conf=/opt/tyk-gateway/tyk.conf" ]
